@double_eleven_discount
Feature: 雙十一優惠活動
  As a 顧客
  I want to 在雙十一活動期間享受折扣
  So that I can 以優惠價格購買商品

  Background:
    Given 雙十一優惠活動已啟動

  Scenario: 購買 12 件同種商品享受折扣
    Given 商品襪子的單價為 100 元
    When 顧客購買 12 件襪子
    Then 訂單總價應為 1000 元
    And 折扣明細應為:
      | 商品名稱 | 數量 | 單價 | 折扣數量 | 折扣價格 | 原價數量 | 原價價格 | 小計 |
      | 襪子     | 12   | 100  | 10       | 800      | 2        | 200      | 1000 |

  Scenario: 購買 27 件同種商品享受多次折扣
    Given 商品襪子的單價為 100 元
    When 顧客購買 27 件襪子
    Then 訂單總價應為 2300 元
    And 折扣明細應為:
      | 商品名稱 | 數量 | 單價 | 折扣數量 | 折扣價格 | 原價數量 | 原價價格 | 小計 |
      | 襪子     | 27   | 100  | 20       | 1600     | 7        | 700      | 2300 |

  Scenario: 購買 10 件不同商品無折扣
    Given 有以下商品各一件，每件價格為 100 元:
      | 商品名稱 |
      | A        |
      | B        |
      | C        |
      | D        |
      | E        |
      | F        |
      | G        |
      | H        |
      | I        |
      | J        |
    When 顧客購買上述所有商品
    Then 訂單總價應為 1000 元
    And 不應有任何折扣
    And 折扣明細應為:
      | 商品名稱 | 數量 | 單價 | 折扣數量 | 折扣價格 | 原價數量 | 原價價格 | 小計 |
      | A        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | B        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | C        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | D        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | E        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | F        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | G        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | H        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | I        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |
      | J        | 1    | 100  | 0        | 0        | 1        | 100      | 100  |

  Scenario: 雙十一活動未啟動時無折扣
    Given 雙十一優惠活動未啟動
    And 商品襪子的單價為 100 元
    When 顧客購買 12 件襪子
    Then 訂單總價應為 1200 元
    And 不應有任何折扣 